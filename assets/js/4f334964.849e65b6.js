"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[2422],{3905:(e,n,i)=>{i.d(n,{Zo:()=>c,kt:()=>u});var o=i(7294);function a(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function t(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,o)}return i}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(n){a(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function l(e,n){if(null==e)return{};var i,o,a=function(e,n){if(null==e)return{};var i,o,a={},t=Object.keys(e);for(o=0;o<t.length;o++)i=t[o],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)i=t[o],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=o.createContext({}),p=function(e){var n=o.useContext(s),i=n;return e&&(i="function"==typeof e?e(n):r(r({},n),e)),i},c=function(e){var n=p(e.components);return o.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var i=e.components,a=e.mdxType,t=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(i),u=a,v=m["".concat(s,".").concat(u)]||m[u]||d[u]||t;return i?o.createElement(v,r(r({ref:n},c),{},{components:i})):o.createElement(v,r({ref:n},c))}));function u(e,n){var i=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var t=i.length,r=new Array(t);r[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<t;p++)r[p]=i[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,i)}m.displayName="MDXCreateElement"},9966:(e,n,i)=>{i.r(n),i.d(n,{contentTitle:()=>r,default:()=>c,frontMatter:()=>t,metadata:()=>l,toc:()=>s});var o=i(7462),a=(i(7294),i(3905));const t={},r="Command Versioning",l={unversionedId:"guides/commands_pipelines/command_versioning",id:"guides/commands_pipelines/command_versioning",isDocsHomePage:!1,title:"Command Versioning",description:"Each command can be available and used in different versions in parallel in pipelines. This is to support downwards compatibilty in pipeline scripts. Which commands are availble in which versions can be found in the commands reference docs.",source:"@site/docs/guides/commands_pipelines/40_command_versioning.md",sourceDirName:"guides/commands_pipelines",slug:"/guides/commands_pipelines/command_versioning",permalink:"/docs/guides/commands_pipelines/command_versioning",editUrl:"https://github.com/pipeforce/pipeforce.github.io/edit/master/docs/guides/commands_pipelines/40_command_versioning.md",tags:[],version:"current",sidebarPosition:40,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Pipeline Functions",permalink:"/docs/guides/commands_pipelines/functions"},next:{title:"3. Connectors",permalink:"/docs/guides/connectors"}},s=[{value:"Local version",id:"local-version",children:[],level:3},{value:"Global version",id:"global-version",children:[],level:3},{value:"Version fallback",id:"version-fallback",children:[],level:3},{value:"Default version",id:"default-version",children:[],level:3}],p={toc:s};function c(e){let{components:n,...i}=e;return(0,a.kt)("wrapper",(0,o.Z)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"command-versioning"},"Command Versioning"),(0,a.kt)("p",null,"Each command can be available and used in different versions in parallel in pipelines. This is to support downwards compatibilty in pipeline scripts. Which commands are availble in which versions can be found in the ",(0,a.kt)("a",{parentName:"p",href:"../../api/commands"},"commands reference docs"),"."),(0,a.kt)("h3",{id:"local-version"},"Local version"),(0,a.kt)("p",null,"In order to use a specific version of a single command, you need to add it as suffix ",(0,a.kt)("inlineCode",{parentName:"p"},":<version>")," to the command name, whereas ",(0,a.kt)("inlineCode",{parentName:"p"},"<version>")," needs to be replaced by the version to be used. For example ",(0,a.kt)("inlineCode",{parentName:"p"},":v1"),", ",(0,a.kt)("inlineCode",{parentName:"p"},":v2"),", ",(0,a.kt)("inlineCode",{parentName:"p"},":v3"),", aso. Here is an example to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"log")," command with exact version ",(0,a.kt)("inlineCode",{parentName:"p"},"v3")," in a pipeline:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - log:v3:\n      message: "Hello World!"   \n')),(0,a.kt)("p",null,"Here, we use version ",(0,a.kt)("inlineCode",{parentName:"p"},"v4")," of command ",(0,a.kt)("inlineCode",{parentName:"p"},"log"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - log:v4:\n      message: "Hello World!"   \n')),(0,a.kt)("p",null,"If no version is specified, by default ",(0,a.kt)("inlineCode",{parentName:"p"},"v1")," is used:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - log:\n      message: "Hello World!"   \n')),(0,a.kt)("p",null,"Is the same as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - log:v1:\n      message: "Hello World!"   \n')),(0,a.kt)("h3",{id:"global-version"},"Global version"),(0,a.kt)("p",null,"Instead of defining the version for each command, you can also set it globally for all commands of a pipeline using the header ",(0,a.kt)("inlineCode",{parentName:"p"},"version"),". Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'headers:\n  version: v4\npipeline:\n  - log:\n      message: "Hello World!"\n')),(0,a.kt)("p",null,"In this case all commands defined in the pipeline will use version ",(0,a.kt)("inlineCode",{parentName:"p"},"v4")," without the need of local definition."),(0,a.kt)("p",null,"In case you combine the header ",(0,a.kt)("inlineCode",{parentName:"p"},"apiVersion")," with local version on a command, the local one wins:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},'headers:\n  version: v4\npipeline:\n  - log:v5:\n      message: "Hello World!"\n')),(0,a.kt)("p",null,"In this example, the ",(0,a.kt)("inlineCode",{parentName:"p"},"log")," command is used with version ",(0,a.kt)("inlineCode",{parentName:"p"},"v5"),". "),(0,a.kt)("h3",{id:"version-fallback"},"Version fallback"),(0,a.kt)("p",null,"Definig a version means you specify the highest version number to be used. If this version is not availble, the next lower available version is loaded instead. "),(0,a.kt)("p",null,"In case you specify a version like ",(0,a.kt)("inlineCode",{parentName:"p"},"v5")," for example, it will be tried to load the command with this exact version. In case no such command with this version exists, the next lower version will be looked up, like ",(0,a.kt)("inlineCode",{parentName:"p"},"v4")," for example. If no command with this version exists, the next lower version ",(0,a.kt)("inlineCode",{parentName:"p"},"v3")," is tried, aso. "),(0,a.kt)("h3",{id:"default-version"},"Default version"),(0,a.kt)("p",null,"In case no version is specified, the version ",(0,a.kt)("inlineCode",{parentName:"p"},"v1")," is used by default."))}c.isMDXComponent=!0}}]);