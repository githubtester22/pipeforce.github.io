<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PIPEFORCE RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PIPEFORCE Atom Feed"><title data-react-helmet="true">Pipeline | PIPEFORCE</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pipeforce.github.io/docs/guides/pipeline"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Pipeline | PIPEFORCE"><meta data-react-helmet="true" name="description" content="Two or more commands can be chained to a pipeline. If such a pipeline gets executed, the commands in it will be executed by their serial ordering within the pipeline. The output message of the first command will become the input message of the next command, and so on."><meta data-react-helmet="true" property="og:description" content="Two or more commands can be chained to a pipeline. If such a pipeline gets executed, the commands in it will be executed by their serial ordering within the pipeline. The output message of the first command will become the input message of the next command, and so on."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pipeforce.github.io/docs/guides/pipeline"><link data-react-helmet="true" rel="alternate" href="https://pipeforce.github.io/docs/guides/pipeline" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pipeforce.github.io/docs/guides/pipeline" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f96a201f.css">
<link rel="preload" href="/assets/js/runtime~main.5760289a.js" as="script">
<link rel="preload" href="/assets/js/main.bfdde38f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarContent_6uhP">We are hiring Developers. <a target="_blank" rel="noopener noreferrer" href="https://germantechjobs.de/jobs/LOGABIT-GmbH-Fullstack-Open-Source-Entwickler-mwd">Apply now!</a></div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/pipeforce-logo-150w.png" alt="PIPEFORCE" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/pipeforce-logo-150w.png" alt="PIPEFORCE" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/basics">Tutorials</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/api/commands">API</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/downloads">Downloads</a></div><div class="navbar__items navbar__items--right"><a href="https://logabit.atlassian.net/servicedesk/customer/portals" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/command">Command</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/pipeline">Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/propertystore">Property Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/contentobject">Content Object</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/events">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/schema-and-objects">Schema &amp; Objects</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/iam">Identity and Access Management (IAM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/permissions">Groups, Roles, and Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/webhooks">Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/local-workspace">Local Workspace</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Workflows</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference / API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/downloads">Downloads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pipeline</h1></header><p>Two or more <a href="/docs/guides/command"><strong>commands</strong></a> can be chained to a <strong>pipeline</strong>. If such a pipeline gets executed, the commands in it will be executed by their serial ordering within the pipeline. The output message of the first command will become the input message of the next command, and so on. </p><p><img src="/assets/images/pipe-chain.drawio-125c0a2cf6602ea372dafb21ea69c4a2.png"></p><p>By default, such a pipeline is written in a <a href="https://en.wikipedia.org/wiki/YAML" target="_blank" rel="noopener noreferrer">YAML</a> format. Here is an example which uses two simple commands: The <code>datetime</code> command to produce the current date and time, and after this, the <code>log</code> command to log the result at the server side:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> log</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In the YAML, a pipeline is defined using the <code>pipeline:</code> list as root element. Inside this list, each command to be executed is defined as an element (after an indent and a dash <code>-</code>) by its name and optional parameters. The body output of the first command (<code>datetime</code>) will automatically become the body input of the next command (<code>log</code>).</p><p>Here is a more sophisticated example which uses three commands: The first loads a PDF file from cloud drive (which is a built-in archive and dropbox in PIPEFORCE), the second puts a stamp on this document, and the third saves the PDF with the stamp back to drive:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">drive.read</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /my.pdf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">pdf.stamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello World!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">drive.save</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /my</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stamped.pdf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The PDF file <code>my.pdf</code> is the output from the command <code>drive.read</code> and will become the input for <code>pdf.stamp</code>. After <code>pdf.stamp</code> was executed and has put the stamp on the file, it will send it as output to <code>drive.save</code> which stores it to the data room. Instead of a PDF file, the message body can also be of any other format like JSON, string or the like.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="execution-of-a-pipeline">Execution of a pipeline<a aria-hidden="true" class="hash-link" href="#execution-of-a-pipeline" title="Direct link to heading">​</a></h2><p>Similar to a single command, a pipeline of commands is executed by sending it in a request to the server. Its a more advanced version of the “Function as a Service” approach, since it can execute a bunch of commands in a predefined order.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="via-online-workbench">Via Online Workbench<a aria-hidden="true" class="hash-link" href="#via-online-workbench" title="Direct link to heading">​</a></h3><p>Since version 7.0 of PIPEFORCE was released, the Online Workbench is available. This is an advanced online editor with full code completion support, where you can write pipelines and commands to be executed and then run them online. This is the easiest and most preferred way to ad-hoc execute a command or pipeline. Here you can see a simple pipeline after its ad-hoc execution as an example:</p><p><img src="/assets/images/grafik-20210711-083848-2ee5d979db1ed6ee42b8cdf1de793dc9.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="via-cli">Via CLI<a aria-hidden="true" class="hash-link" href="#via-cli" title="Direct link to heading">​</a></h3><p>Another approach to execute a pipeline is by using the CLI: <a href="/docs/api/cli">Command Line Interface (CLI)</a>.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="local-file">Local file<a aria-hidden="true" class="hash-link" href="#local-file" title="Direct link to heading">​</a></h4><p>Lets assume you have a local pipeline file stored at <code>src/global/app/myapp/pipeline/test.pi.yaml</code> inside of your PIPEFORCE workspace, then you can execute it via this CLI call:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pi pipeline </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> src/global/app/myapp/pipeline/test.pi.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will load the local pipeline file and execute its content by sending it to the server. The result will be printed out to your terminal if there is any.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>A pipeline file must end in this suffix to be detected correctly by your workspace <code>.pi.yaml</code>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="remote">Remote<a aria-hidden="true" class="hash-link" href="#remote" title="Direct link to heading">​</a></h4><p>In case you have stored your pipeline at server side in the <a href="/docs/guides/propertystore">Property Store</a>, then you can execute it using this call:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pi pipeline remote global/app/myapp/pipeline/test</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This command searches for a property in the property store with key <code>global/app/myapp/pipeline/test</code> and executes it before sending any results back to your terminal.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="pipeline-uri">Pipeline URI<a aria-hidden="true" class="hash-link" href="#pipeline-uri" title="Direct link to heading">​</a></h4><p>A third option to execute a pipeline is by using a <strong>pipeline uri</strong> which is an inline version of a pipeline. You can also rewrite any pipeline YAML fromat as a pipeline uri. Lets assume this example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> dd.MM.YYYY     </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> log</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can rewrite this pipeline YAML as an inline pipeline uri, which looks like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">datetime?format</span><span class="token operator">=</span><span class="token plain">dd.MM.YYYY</span><span class="token operator">|</span><span class="token plain">log</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can then execute such a pipeline uri using this CLI call in one line:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pi pipeline uri </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;datetime?format=dd.MM.YYYY|log&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This is handy especially for smaller pipelines which you want to execute ad-hoc.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="via-http">Via HTTP<a aria-hidden="true" class="hash-link" href="#via-http" title="Direct link to heading">​</a></h3><p>You can execute a pipeline also by sending it via HTTP POST to the server. See this example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">POST /api/v3/pipeline HTTP/1.1 </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">Host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> hub</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">acme.pipefore.net</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">drive.read</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /my.pdf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">pdf.stamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello World!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">drive.save</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /my</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stamped.pdf</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will do, by default, a synchron execution of the pipeline at server side. This will return with the response status code <code>200 OK</code> and the result in the response body once execution is finished.</p><p>Here is the PDF pipeline example from above, which is now executed using the <code>curl</code> tool (available on all Linux, Mac and Windows systems):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> -X POST </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http://hub/api/v3/pipeline&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -H </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/yaml&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --data-binary @- </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">EOF</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">pipeline:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)"> - drive.read:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     path: /my.pdf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)"> - pdf.stamp:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     text: &quot;Hello World!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)"> - drive.save:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     path: /my-stamped.pdf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">EOF</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>With this flexibility, you can define a bash script and store it locally to execute this pipeline with a single command and without much configuration, setup or coding.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="pipeline-scopes">Pipeline Scopes<a aria-hidden="true" class="hash-link" href="#pipeline-scopes" title="Direct link to heading">​</a></h2><p>Every pipeline script may consist of four main sections, called <strong>scopes</strong>:</p><ul><li>headers</li><li>vars</li><li>pipeline</li><li>body</li></ul><p>Here is an example of a pipeline script which defines all of these scopes:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">headers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">contentType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;text/plain&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">vars</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;HELLO WORLD!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">body</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;This is text in the body&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>All scopes except <code>pipeline</code> are optional in a pipeline script. Even if not explicitly defined in the pipeline script, each scope exists implicitly. That means you can access it and read / set values from / on it without declaring it in the pipeline. For example, by using a pipeline expression (PE).</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="headers">headers<a aria-hidden="true" class="hash-link" href="#headers" title="Direct link to heading">​</a></h3><p>The headers section is optional. A header is a name-value pair to define &quot;global configuration&quot; hints and configurations for the given pipeline. Only text is allowed as content i.e. no complex objects. It is Not meant to be changed during pipeline processing.</p><p>Whether and which headers are required depends on the pipeline and its commands. Read the documentation of the commands of pipeline.</p><p>It is similar to HTTP Request headers: <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/List<!-- -->_<!-- -->of<!-- -->_<!-- -->HTTP<!-- -->_<!-- -->header<!-- -->_<!-- -->fields</a></p><p>You can set values in the headers scope using the Pipeline Expression Language (PEL). See here: <a href="/docs/guides/pel">Pipeline Expression Language (PEL)</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="vars">vars<a aria-hidden="true" class="hash-link" href="#vars" title="Direct link to heading">​</a></h3><p>The vars section is optional and contains transient variables as name value pairs. It is meant as a transient scope for states during the pipeline processing.</p><p>Values can also be complex objects and documents.</p><p>Values can be changed during pipeline processing.</p><p>You can access values in the vars scope using the Pipeline Expression Language (PEL). See here: <a href="/docs/guides/pel">Pipeline Expression Language (PEL)</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pipeline-1">pipeline<a aria-hidden="true" class="hash-link" href="#pipeline-1" title="Direct link to heading">​</a></h3><p>The pipeline section is mandatory and lists all commands which must be executed in given order.</p><p>See your instance portal for a reference of available commands.</p><p>You can set dynamic parameter values on commands using the Pipeline Expression Language (PEL). See here: <a href="/docs/guides/pel">Pipeline Expression Language (PEL)</a>.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="body">body<a aria-hidden="true" class="hash-link" href="#body" title="Direct link to heading">​</a></h3><p>The body section is optional. It defines a single object to be used as “data pool” or transformation data during the pipeline processing.</p><p>In case commands return a value, by default, they will write this value to the body implicitly. Whereas a previous command&#x27;s value in the body will be overwritten by the command which comes next.</p><p>You can access values in the body scope using the Pipeline Expression Language (PEL). See here: <a href="/docs/guides/pel">Pipeline Expression Language (PEL)</a>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="auto-completion-support">Auto-completion support<a aria-hidden="true" class="hash-link" href="#auto-completion-support" title="Direct link to heading">​</a></h2><p><strong>Note: This is experimental.</strong></p><p>In order to enable auto-completion support for pipeline scripts in your local development editor, you need an editor which supports YAML schema validation. Then, you can have auto-completion which shows all available commands and their parameters:</p><p><img src="/assets/images/image-20200815-094048-367c42f4430fa0c41a9d93f92ca3cfb2.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="intellij">IntelliJ<a aria-hidden="true" class="hash-link" href="#intellij" title="Direct link to heading">​</a></h3><p>To enable auto-completion in IntelliJ, open preferences and navigate to JSON Schema Mappings:</p><p><code>Preferences → Languages &amp; Frameworks → Schemas &amp; DTDs → JSON Schema Mappings</code></p><p>Add a new schema mapping with these values:</p><ul><li>Name: <code>pipeline-schema</code></li><li>Schema URL: <code>https://hub-&lt;NS&gt;.pipeforce.net/api/v3/command:pipe.schema.v7</code></li><li>Schema version: <code>JSON Schema version 7</code></li></ul><p>Add new file path patterns for : <code>*.pi.yaml</code></p><p>Now, try it out: Create a new file <code>foo.pi.yaml</code> and start typing. You should get support for any file ending in <code>*.pi.yaml</code>.</p><p>Note: A YAML pipeline script should always end in suffix <strong>.pi.yaml</strong> which stands for stands for pipeline scripts written in YAML.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="visual-studio-code">Visual Studio Code<a aria-hidden="true" class="hash-link" href="#visual-studio-code" title="Direct link to heading">​</a></h3><p>To enable auto-completion in Visual Studio Code, open <code>Preferences → Settings</code>, and search for section <code>json.schemas</code>. Then, add a new mapping entry like this:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">&quot;json.schemas&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">&quot;fileMatch&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/*.pi.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">&quot;url&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://hub-&lt;NS&gt;.pipeforce.net/api/v3/command:pipe.schema.v7&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Now, try it out: Create a new file <code>foo.pi.json</code> and start typing. You should get support for any file ending in <code>*.pi.json</code>.
Note: .<strong>pi.json</strong> stands for pipeline scripts written in JSON.</p><p>Note: Visual Studio Code doesn&#x27;t have built-in schema support for yaml files. If you want to also enable code-completion for your pipeline yaml files, you need to install the YAML language support plugin from Red Hat first: <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml</a></p><p>Then open <code>Preferences → Settings</code> and add this line to your configuration <strong>settings.json</strong>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">&quot;yaml.schemas&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">&quot;https://hub-NAMESPACE.pipeforce.org/api/v3/pipe:pipe.schema.v7&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/*.pi.yaml&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="online-workbench">Online Workbench<a aria-hidden="true" class="hash-link" href="#online-workbench" title="Direct link to heading">​</a></h3><p>The built-in online workbench in the PIPEFORCE portal supports pipeline script completion out-of-the box. </p><p>To start completion simply press <code>[Ctrl]</code> + <code>[Space]</code>. </p><p><img src="/assets/images/workbench-completion-ed78b9917f8258c3af8263cef3013a3b.png"></p><p>Beside completion for available commands and their parameters, it also supports completion for other parts like utilities and variables for example:</p><p><img src="/assets/images/workbench-completion-utils-2870ff407fd1920805bae14a1d746a84.png"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pipeforce/pipeforce.github.io/edit/master/docs/guides/20_pipeline.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guides/command"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Command</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guides/propertystore"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Property Store<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#execution-of-a-pipeline" class="table-of-contents__link toc-highlight">Execution of a pipeline</a><ul><li><a href="#via-online-workbench" class="table-of-contents__link toc-highlight">Via Online Workbench</a></li><li><a href="#via-cli" class="table-of-contents__link toc-highlight">Via CLI</a></li><li><a href="#via-http" class="table-of-contents__link toc-highlight">Via HTTP</a></li></ul></li><li><a href="#pipeline-scopes" class="table-of-contents__link toc-highlight">Pipeline Scopes</a><ul><li><a href="#headers" class="table-of-contents__link toc-highlight">headers</a></li><li><a href="#vars" class="table-of-contents__link toc-highlight">vars</a></li><li><a href="#pipeline-1" class="table-of-contents__link toc-highlight">pipeline</a></li><li><a href="#body" class="table-of-contents__link toc-highlight">body</a></li></ul></li><li><a href="#auto-completion-support" class="table-of-contents__link toc-highlight">Auto-completion support</a><ul><li><a href="#intellij" class="table-of-contents__link toc-highlight">IntelliJ</a></li><li><a href="#visual-studio-code" class="table-of-contents__link toc-highlight">Visual Studio Code</a></li><li><a href="#online-workbench" class="table-of-contents__link toc-highlight">Online Workbench</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/basics">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">LOGABIT</div><ul class="footer__items"><li class="footer__item"><a href="https://pipeforce.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://logabit.atlassian.net/servicedesk/customer/portals" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://pipeforce.io/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">News</a></li><li class="footer__item"><a href="https://pipeforce.io/impressum/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br>Copyright © 2022 <b>LOGABIT GmbH.</b></div></div></div></footer></div>
<script src="/assets/js/runtime~main.5760289a.js"></script>
<script src="/assets/js/main.bfdde38f.js"></script>
</body>
</html>